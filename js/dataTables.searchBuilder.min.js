/*!
 SearchBuilder 1.1.0
 Â©SpryMedia Ltd - datatables.net/license/mit
*/
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(l){var m=0;return function(){return m<l.length?{done:!1,value:l[m++]}:{done:!0}}};$jscomp.arrayIterator=function(l){return{next:$jscomp.arrayIteratorImpl(l)}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.ISOLATE_POLYFILLS=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(l,m,n){if(l==Array.prototype||l==Object.prototype)return l;l[m]=n.value;return l};$jscomp.getGlobal=function(l){l=["object"==typeof globalThis&&globalThis,l,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var m=0;m<l.length;++m){var n=l[m];if(n&&n.Math==Math)return n}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(l,m){var n=$jscomp.propertyToPolyfillSymbol[m];if(null==n)return l[m];n=l[n];return void 0!==n?n:l[m]};
$jscomp.polyfill=function(l,m,n,f){m&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(l,m,n,f):$jscomp.polyfillUnisolated(l,m,n,f))};$jscomp.polyfillUnisolated=function(l,m,n,f){n=$jscomp.global;l=l.split(".");for(f=0;f<l.length-1;f++){var r=l[f];if(!(r in n))return;n=n[r]}l=l[l.length-1];f=n[l];m=m(f);m!=f&&null!=m&&$jscomp.defineProperty(n,l,{configurable:!0,writable:!0,value:m})};
$jscomp.polyfillIsolated=function(l,m,n,f){var r=l.split(".");l=1===r.length;f=r[0];f=!l&&f in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var v=0;v<r.length-1;v++){var w=r[v];if(!(w in f))return;f=f[w]}r=r[r.length-1];n=$jscomp.IS_SYMBOL_NATIVE&&"es6"===n?f[r]:null;m=m(n);null!=m&&(l?$jscomp.defineProperty($jscomp.polyfills,r,{configurable:!0,writable:!0,value:m}):m!==n&&($jscomp.propertyToPolyfillSymbol[r]=$jscomp.IS_SYMBOL_NATIVE?$jscomp.global.Symbol(r):$jscomp.POLYFILL_PREFIX+r,r=
$jscomp.propertyToPolyfillSymbol[r],$jscomp.defineProperty(f,r,{configurable:!0,writable:!0,value:m})))};$jscomp.initSymbol=function(){};
$jscomp.polyfill("Symbol",function(l){if(l)return l;var m=function(r,v){this.$jscomp$symbol$id_=r;$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:v})};m.prototype.toString=function(){return this.$jscomp$symbol$id_};var n=0,f=function(r){if(this instanceof f)throw new TypeError("Symbol is not a constructor");return new m("jscomp_symbol_"+(r||"")+"_"+n++,r)};return f},"es6","es3");$jscomp.initSymbolIterator=function(){};
$jscomp.polyfill("Symbol.iterator",function(l){if(l)return l;l=Symbol("Symbol.iterator");for(var m="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),n=0;n<m.length;n++){var f=$jscomp.global[m[n]];"function"===typeof f&&"function"!=typeof f.prototype[l]&&$jscomp.defineProperty(f.prototype,l,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}})}return l},"es6",
"es3");$jscomp.initSymbolAsyncIterator=function(){};$jscomp.iteratorPrototype=function(l){l={next:l};l[Symbol.iterator]=function(){return this};return l};$jscomp.iteratorFromArray=function(l,m){l instanceof String&&(l+="");var n=0,f={next:function(){if(n<l.length){var r=n++;return{value:m(r,l[r]),done:!1}}f.next=function(){return{done:!0,value:void 0}};return f.next()}};f[Symbol.iterator]=function(){return f};return f};
$jscomp.polyfill("Array.prototype.keys",function(l){return l?l:function(){return $jscomp.iteratorFromArray(this,function(m){return m})}},"es6","es3");$jscomp.checkStringArgs=function(l,m,n){if(null==l)throw new TypeError("The 'this' value for String.prototype."+n+" must not be null or undefined");if(m instanceof RegExp)throw new TypeError("First argument to String.prototype."+n+" must not be a regular expression");return l+""};
$jscomp.polyfill("String.prototype.startsWith",function(l){return l?l:function(m,n){var f=$jscomp.checkStringArgs(this,m,"startsWith");m+="";var r=f.length,v=m.length;n=Math.max(0,Math.min(n|0,f.length));for(var w=0;w<v&&n<r;)if(f[n++]!=m[w++])return!1;return w>=v}},"es6","es3");
$jscomp.polyfill("String.prototype.endsWith",function(l){return l?l:function(m,n){var f=$jscomp.checkStringArgs(this,m,"endsWith");m+="";void 0===n&&(n=f.length);n=Math.max(0,Math.min(n|0,f.length));for(var r=m.length;0<r&&0<n;)if(f[--n]!=m[--r])return!1;return 0>=r}},"es6","es3");
(function(){function l(c){f=c;r=c.fn.dataTable}function m(c){k=c;E=c.fn.dataTable}function n(c){q=c;D=c.fn.DataTable}var f,r,v=window.moment,w=window.luxon,t=function(){function c(a,b,d,e,g){var h=this;void 0===e&&(e=0);void 0===g&&(g=1);if(!r||!r.versionCheck||!r.versionCheck("1.10.0"))throw Error("SearchPane requires DataTables 1.10 or newer");this.classes=f.extend(!0,{},c.classes);this.c=f.extend(!0,{},c.defaults,f.fn.dataTable.ext.searchBuilder,b);b=this.c.i18n;this.s={condition:void 0,conditions:{},
data:void 0,dataIdx:-1,dataPoints:[],dateFormat:!1,depth:g,dt:a,filled:!1,index:e,topGroup:d,type:"",value:[]};this.dom={buttons:f("<div/>").addClass(this.classes.buttonContainer),condition:f("<select disabled/>").addClass(this.classes.condition).addClass(this.classes.dropDown).addClass(this.classes.italic).attr("autocomplete","hacking"),conditionTitle:f('<option value="" disabled selected hidden/>').text(this.s.dt.i18n("searchBuilder.condition",b.condition)),container:f("<div/>").addClass(this.classes.container),
data:f("<select/>").addClass(this.classes.data).addClass(this.classes.dropDown).addClass(this.classes.italic),dataTitle:f('<option value="" disabled selected hidden/>').text(this.s.dt.i18n("searchBuilder.data",b.data)),defaultValue:f("<select disabled/>").addClass(this.classes.value).addClass(this.classes.dropDown).addClass(this.classes.select),"delete":f("<button>&times</button>").addClass(this.classes["delete"]).addClass(this.classes.button).attr("title",this.s.dt.i18n("searchBuilder.deleteTitle",
b.deleteTitle)).attr("type","button"),left:f("<button><</button>").addClass(this.classes.left).addClass(this.classes.button).attr("title",this.s.dt.i18n("searchBuilder.leftTitle",b.leftTitle)).attr("type","button"),right:f("<button>></button>").addClass(this.classes.right).addClass(this.classes.button).attr("title",this.s.dt.i18n("searchBuilder.rightTitle",b.rightTitle)).attr("type","button"),value:[f("<select disabled/>").addClass(this.classes.value).addClass(this.classes.dropDown).addClass(this.classes.italic).addClass(this.classes.select)],
valueTitle:f('<option value="--valueTitle--" selected/>').text(this.s.dt.i18n("searchBuilder.value",b.value))};if(this.c.greyscale)for(f(this.dom.data).addClass(this.classes.greyscale),f(this.dom.condition).addClass(this.classes.greyscale),f(this.dom.defaultValue).addClass(this.classes.greyscale),a=0,d=this.dom.value;a<d.length;a++)f(d[a]).addClass(this.classes.greyscale);this.s.dt.on("draw.dtsp",function(){h._adjustCriteria()});this.s.dt.on("buttons-action",function(){h._adjustCriteria()});f(window).on("resize.dtsp",
r.util.throttle(function(){h._adjustCriteria()}));this._buildCriteria();return this}c.prototype.updateArrows=function(a,b){void 0===a&&(a=!1);void 0===b&&(b=!0);f(this.dom.container).empty().append(this.dom.data).append(this.dom.condition).append(this.dom.value[0]);this.setListeners();f(this.dom.value[0]).trigger("dtsb-inserted");for(var d=1;d<this.dom.value.length;d++)f(this.dom.container).append(this.dom.value[d]),f(this.dom.value[d]).trigger("dtsb-inserted");1<this.s.depth&&f(this.dom.buttons).append(this.dom.left);
(!1===this.c.depthLimit||this.s.depth<this.c.depthLimit)&&a?f(this.dom.buttons).append(this.dom.right):f(this.dom.right).remove();f(this.dom.buttons).append(this.dom["delete"]);f(this.dom.container).append(this.dom.buttons);b&&this._adjustCriteria()};c.prototype.destroy=function(){f(this.dom.data).off(".dtsb");f(this.dom.condition).off(".dtsb");f(this.dom["delete"]).off(".dtsb");for(var a=0,b=this.dom.value;a<b.length;a++)f(b[a]).off(".dtsb");f(this.dom.container).remove()};c.prototype.search=function(a,
b){var d=this.s.conditions[this.s.condition];if(void 0!==this.s.condition&&void 0!==d){var e=a[this.s.dataIdx];if(-1!==this.s.type.indexOf("num")&&(""!==this.s.dt.settings()[0].oLanguage.sDecimal||""!==this.s.dt.settings()[0].oLanguage.sThousands)){e=[a[this.s.dataIdx]];""!==this.s.dt.settings()[0].oLanguage.sDecimal&&(e=a[this.s.dataIdx].split(this.s.dt.settings()[0].oLanguage.sDecimal));if(""!==this.s.dt.settings()[0].oLanguage.sThousands)for(a=0;a<e.length;a++)e[a]=e[a].replace(this.s.dt.settings()[0].oLanguage.sThousands,
",");e=e.join(".")}"filter"!==this.c.orthogonal.search&&(e=this.s.dt.settings()[0],e=e.oApi._fnGetCellData(e,b,this.s.dataIdx,"string"===typeof this.c.orthogonal?this.c.orthogonal:this.c.orthogonal.search));if("array"===this.s.type)for(Array.isArray(e)||(e=[e]),e.sort(),b=0,a=e;b<a.length;b++){var g=a[b];g&&g.replace(/[\r\n\u2028]/g," ")}else null!==e&&(e=e.replace(/[\r\n\u2028]/g," "));-1!==this.s.type.indexOf("html")&&(e=e.replace(/(<([^>]+)>)/ig,""));null===e&&(e="");return d.search(e,this.s.value,
this)}};c.prototype.getDetails=function(){var a=this.s.value;if(-1!==this.s.type.indexOf("num")&&(""!==this.s.dt.settings()[0].oLanguage.sDecimal||""!==this.s.dt.settings()[0].oLanguage.sThousands))for(var b=0;b<this.s.value.length;b++){var d=[this.s.value[b].toString()];""!==this.s.dt.settings()[0].oLanguage.sDecimal&&(d=this.s.value[b].split(this.s.dt.settings()[0].oLanguage.sDecimal));if(""!==this.s.dt.settings()[0].oLanguage.sThousands)for(var e=0;e<d.length;e++)d[e]=d[e].replace(this.s.dt.settings()[0].oLanguage.sThousands,
",");this.s.value[b]=d.join(".")}return{condition:this.s.condition,data:this.s.data,value:a}};c.prototype.getNode=function(){return this.dom.container};c.prototype.populate=function(){this._populateData();-1!==this.s.dataIdx&&(this._populateCondition(),void 0!==this.s.condition&&this._populateValue())};c.prototype.rebuild=function(a){var b=!1,d;this._populateData();if(void 0!==a.data){var e=this.classes.italic,g=this.dom.data;f(this.dom.data).children("option").each(function(){f(this).text()===a.data&&
(f(this).attr("selected",!0),f(g).removeClass(e),b=!0,d=f(this).val())})}if(b){this.s.data=a.data;this.s.dataIdx=d;this.c.orthogonal=this._getOptions().orthogonal;f(this.dom.dataTitle).remove();this._populateCondition();f(this.dom.conditionTitle).remove();var h;f(this.dom.condition).children("option").each(function(){void 0!==a.condition&&f(this).val()===a.condition&&"string"===typeof a.condition&&(f(this).attr("selected",!0),h=f(this).val())});this.s.condition=h;void 0!==this.s.condition?(f(this.dom.conditionTitle).remove(),
f(this.dom.condition).removeClass(this.classes.italic),this._populateValue(a)):f(this.dom.conditionTitle).prependTo(this.dom.condition).attr("selected",!0)}};c.prototype.setListeners=function(){var a=this;f(this.dom.data).unbind("change").on("change",function(){f(a.dom.dataTitle).attr("selected",!1);f(a.dom.data).removeClass(a.classes.italic);a.s.dataIdx=f(a.dom.data).children("option:selected").val();a.s.data=f(a.dom.data).children("option:selected").text();a.c.orthogonal=a._getOptions().orthogonal;
a._clearCondition();a._clearValue();a._populateCondition();a.s.filled&&(a.s.filled=!1,a.s.dt.draw(),a.setListeners());a.s.dt.state.save()});f(this.dom.condition).unbind("change").on("change",function(){f(a.dom.conditionTitle).attr("selected",!1);f(a.dom.condition).removeClass(a.classes.italic);for(var b=f(a.dom.condition).children("option:selected").val(),d=0,e=Object.keys(a.s.conditions);d<e.length;d++)if(e[d]===b){a.s.condition=b;break}a._clearValue();a._populateValue();b=0;for(d=a.dom.value;b<
d.length;b++)e=d[b],a.s.filled&&0!==f(a.dom.container).has(e).length&&(a.s.filled=!1,a.s.dt.draw(),a.setListeners());(0===a.dom.value.length||1===a.dom.value.length&&void 0===a.dom.value[0])&&a.s.dt.draw()})};c.prototype._adjustCriteria=function(){if(0!==f(document).has(this.dom.container).length){var a=this.dom.value[this.dom.value.length-1];if(0!==f(this.dom.container).has(a).length){var b=f(a).outerWidth(!0);a=f(a).offset().left+b;var d=f(this.dom.left).offset(),e=f(this.dom.right).offset(),g=
f(this.dom["delete"]).offset(),h=0!==f(this.dom.container).has(this.dom.left).length,p=0!==f(this.dom.container).has(this.dom.right).length,u=h?d.left:p?e.left:g.left;(15>u-a||h&&d.top!==g.top||p&&e.top!==g.top)&&!f(this.dom.container).parent().hasClass(this.classes.vertical)?(f(this.dom.container).parent().addClass(this.classes.vertical),f(this.s.topGroup).trigger("dtsb-redrawContents")):15<u-(f(this.dom.data).offset().left+f(this.dom.data).outerWidth(!0)+f(this.dom.condition).outerWidth(!0)+b)&&
f(this.dom.container).parent().hasClass(this.classes.vertical)&&(f(this.dom.container).parent().removeClass(this.classes.vertical),f(this.s.topGroup).trigger("dtsb-redrawContents"))}}};c.prototype._buildCriteria=function(){f(this.dom.data).append(this.dom.dataTitle);f(this.dom.condition).append(this.dom.conditionTitle);f(this.dom.container).append(this.dom.data).append(this.dom.condition);for(var a=0,b=this.dom.value;a<b.length;a++){var d=b[a];f(d).append(this.dom.valueTitle);f(this.dom.container).append(d)}f(this.dom.container).append(this.dom["delete"]).append(this.dom.right);
this.setListeners()};c.prototype._clearCondition=function(){f(this.dom.condition).empty();f(this.dom.conditionTitle).attr("selected",!0).attr("disabled",!0);f(this.dom.condition).prepend(this.dom.conditionTitle).prop("selectedIndex",0);this.s.conditions={};this.s.condition=void 0};c.prototype._clearValue=function(){if(void 0!==this.s.condition){for(var a=function(g){setTimeout(function(){f(g).remove()},50)},b=0,d=this.dom.value;b<d.length;b++){var e=d[b];a(e)}this.dom.value=[].concat(this.s.conditions[this.s.condition].init(this,
c.updateListener));f(this.dom.value[0]).insertAfter(this.dom.condition).trigger("dtsb-inserted");for(e=1;e<this.dom.value.length;e++)f(this.dom.value[e]).insertAfter(this.dom.value[e-1]).trigger("dtsb-inserted")}else{a=function(g){setTimeout(function(){f(g).remove()},50)};b=0;for(d=this.dom.value;b<d.length;b++)e=d[b],a(e);f(this.dom.valueTitle).attr("selected",!0);f(this.dom.defaultValue).append(this.dom.valueTitle).insertAfter(this.dom.condition)}this.s.value=[];this.dom.value=[f("<select disabled/>").addClass(this.classes.value).addClass(this.classes.dropDown).addClass(this.classes.italic).addClass(this.classes.select).append(f(this.dom.valueTitle).clone())]};
c.prototype._getOptions=function(){return f.extend(!0,{},c.defaults,this.s.dt.settings()[0].aoColumns[this.s.dataIdx].searchBuilder)};c.prototype._populateCondition=function(){var a=[],b=Object.keys(this.s.conditions).length;if(0===b){b=f(this.dom.data).children("option:selected").val();this.s.type=this.s.dt.columns().type().toArray()[b];null===this.s.type&&(this.s.dt.draw(),this.setListeners(),this.s.type=this.s.dt.columns().type().toArray()[b]);f(this.dom.condition).attr("disabled",!1).empty().append(this.dom.conditionTitle).addClass(this.classes.italic);
f(this.dom.conditionTitle).attr("selected",!0);b=this.s.dt.settings()[0].oLanguage.sDecimal;""!==b&&this.s.type.indexOf(b)===this.s.type.length-b.length&&(-1!==this.s.type.indexOf("num-fmt")?this.s.type=this.s.type.replace(b,""):-1!==this.s.type.indexOf("num")&&(this.s.type=this.s.type.replace(b,"")));var d=void 0!==this.c.conditions[this.s.type]?this.c.conditions[this.s.type]:-1!==this.s.type.indexOf("moment")?this.c.conditions.moment:-1!==this.s.type.indexOf("luxon")?this.c.conditions.luxon:this.c.conditions.string;
-1!==this.s.type.indexOf("moment")?this.s.dateFormat=this.s.type.replace(/moment-/g,""):-1!==this.s.type.indexOf("luxon")&&(this.s.dateFormat=this.s.type.replace(/luxon-/g,""));for(var e=0,g=Object.keys(d);e<g.length;e++){var h=g[e];null!==d[h]&&(this.s.conditions[h]=d[h],b=d[h].conditionName,"function"===typeof b&&(b=b(this.s.dt,this.c.i18n)),a.push(f("<option>",{text:b,value:h}).addClass(this.classes.option).addClass(this.classes.notItalic)))}}else if(0<b)for(f(this.dom.condition).empty().attr("disabled",
!1).addClass(this.classes.italic),d=0,e=Object.keys(this.s.conditions);d<e.length;d++)h=e[d],b=this.s.conditions[h].conditionName,"function"===typeof b&&(b=b(this.s.dt,this.c.i18n)),h=f("<option>",{text:b,value:h}).addClass(this.classes.option).addClass(this.classes.notItalic),void 0!==this.s.condition&&this.s.condition===b&&(f(h).attr("selected",!0),f(this.dom.condition).removeClass(this.classes.italic)),a.push(h);else{f(this.dom.condition).attr("disabled",!0).addClass(this.classes.italic);return}for(b=
0;b<a.length;b++)h=a[b],f(this.dom.condition).append(h);f(this.dom.condition).prop("selectedIndex",0)};c.prototype._populateData=function(){var a=this;f(this.dom.data).empty().append(this.dom.dataTitle);if(0===this.s.dataPoints.length)this.s.dt.columns().every(function(h){if(!0===a.c.columns||-1!==a.s.dt.columns(a.c.columns).indexes().toArray().indexOf(h)){for(var p=!1,u=0,y=a.s.dataPoints;u<y.length;u++)if(y[u].index===h){p=!0;break}p||(p=a.s.dt.settings()[0].aoColumns[h],h={index:h,text:(void 0===
p.searchBuilderTitle?p.sTitle:p.searchBuilderTitle).replace(/(<([^>]+)>)/ig,"")},a.s.dataPoints.push(h),f(a.dom.data).append(f("<option>",{text:h.text,value:h.index}).addClass(a.classes.option).addClass(a.classes.notItalic)))}});else for(var b=function(h){d.s.dt.columns().every(function(u){var y=a.s.dt.settings()[0].aoColumns[u];(void 0===y.searchBuilderTitle?y.sTitle:y.searchBuilderTitle).replace(/(<([^>]+)>)/ig,"")===h.text&&(h.index=u)});var p=f("<option>",{text:h.text.replace(/(<([^>]+)>)/ig,
""),value:h.index}).addClass(d.classes.option).addClass(d.classes.notItalic);d.s.data===h.text&&(d.s.dataIdx=h.index,f(p).attr("selected",!0),f(d.dom.data).removeClass(d.classes.italic));f(d.dom.data).append(p)},d=this,e=0,g=this.s.dataPoints;e<g.length;e++)b(g[e])};c.prototype._populateValue=function(a){var b=this,d=this.s.filled;this.s.filled=!1;setTimeout(function(){f(b.dom.defaultValue).remove()},50);for(var e=function(p){setTimeout(function(){f(p).remove()},50)},g=0,h=this.dom.value;g<h.length;g++)e(h[g]);
e=f(this.dom.container).children();if(3<e.length)for(g=2;g<e.length-1;g++)f(e[g]).remove();void 0!==a&&this.s.dt.columns().every(function(p){b.s.dt.settings()[0].aoColumns[p].sTitle===a.data&&(b.s.dataIdx=p)});this.dom.value=[].concat(this.s.conditions[this.s.condition].init(this,c.updateListener,void 0!==a?a.value:void 0));void 0!==a&&void 0!==a.value&&(this.s.value=a.value);f(this.dom.value[0]).insertAfter(this.dom.condition).trigger("dtsb-inserted");for(g=1;g<this.dom.value.length;g++)f(this.dom.value[g]).insertAfter(this.dom.value[g-
1]).trigger("dtsb-inserted");this.s.filled=this.s.conditions[this.s.condition].isInputValid(this.dom.value,this);this.setListeners();d!==this.s.filled&&(this.s.dt.draw(),this.setListeners())};c.prototype._throttle=function(a,b){void 0===b&&(b=200);var d=null,e=null,g=this;null===b&&(b=200);return function(){for(var h=[],p=0;p<arguments.length;p++)h[p]=arguments[p];p=+new Date;null!==d&&p<d+b?clearTimeout(e):d=p;e=setTimeout(function(){d=null;a.apply(g,h)},b)}};c.version="1.1.0";c.classes={button:"dtsb-button",
buttonContainer:"dtsb-buttonContainer",condition:"dtsb-condition",container:"dtsb-criteria",data:"dtsb-data","delete":"dtsb-delete",dropDown:"dtsb-dropDown",greyscale:"dtsb-greyscale",input:"dtsb-input",italic:"dtsb-italic",joiner:"dtsp-joiner",left:"dtsb-left",notItalic:"dtsb-notItalic",option:"dtsb-option",right:"dtsb-right",select:"dtsb-select",value:"dtsb-value",vertical:"dtsb-vertical"};c.initSelect=function(a,b,d,e){void 0===d&&(d=null);void 0===e&&(e=!1);var g=f(a.dom.data).children("option:selected").val(),
h=a.s.dt.rows().indexes().toArray(),p=a.s.dt.settings()[0],u=f("<select/>").addClass(c.classes.value).addClass(c.classes.dropDown).addClass(c.classes.italic).addClass(c.classes.select).append(a.dom.valueTitle).on("change",function(){f(this).removeClass(c.classes.italic);b(a,this)});a.c.greyscale&&f(u).addClass(c.classes.greyscale);for(var y=[],C=[],H=0;H<h.length;H++){var B=h[H],A=p.oApi._fnGetCellData(p,B,g,"string"===typeof a.c.orthogonal?a.c.orthogonal:a.c.orthogonal.search);A="string"===typeof A?
A.replace(/[\r\n\u2028]/g," "):A;B=p.oApi._fnGetCellData(p,B,g,"string"===typeof a.c.orthogonal?a.c.orthogonal:a.c.orthogonal.display);"array"===a.s.type&&(A=Array.isArray(A)?A=A.sort():[A],B=Array.isArray(B)?B=B.sort():[B]);var J=function(x,z){x=f("<option>",{type:Array.isArray(x)?"Array":"String",value:-1!==a.s.type.indexOf("html")&&null!==x&&"string"===typeof x?x.replace(/(<([^>]+)>)/ig,""):x}).addClass(a.classes.option).addClass(a.classes.notItalic).html("string"===typeof z?z.replace(/(<([^>]+)>)/ig,
""):z);z=f(x).val();-1===y.indexOf(z)&&(y.push(z),C.push(x),null!==d&&Array.isArray(d[0])&&(d[0]=d[0].sort().join(",")),null!==d&&x.val()===d[0]&&(x.attr("selected",!0),f(u).removeClass(c.classes.italic)))};if(e)for(var F=0;F<A.length;F++)J(A[F],B[F]);else J(A,B)}C.sort(function(x,z){if("array"===a.s.type||"string"===a.s.type||"html"===a.s.type)return f(x).val()<f(z).val()?-1:f(x).val()>f(z).val()?1:0;if("num"===a.s.type||"html-num"===a.s.type)return+f(x).val().replace(/(<([^>]+)>)/ig,"")<+f(z).val().replace(/(<([^>]+)>)/ig,
"")?-1:+f(x).val().replace(/(<([^>]+)>)/ig,"")>+f(z).val().replace(/(<([^>]+)>)/ig,"")?1:0;if("num-fmt"===a.s.type||"html-num-fmt"===a.s.type)return+f(x).val().replace(/[^0-9.]/g,"")<+f(z).val().replace(/[^0-9.]/g,"")?-1:+f(x).val().replace(/[^0-9.]/g,"")>+f(z).val().replace(/[^0-9.]/g,"")?1:0});for(e=0;e<C.length;e++)g=C[e],f(u).append(g);return u};c.initSelectArray=function(a,b,d){void 0===d&&(d=null);return c.initSelect(a,b,d,!0)};c.initInput=function(a,b,d){void 0===d&&(d=null);var e=a.s.dt.settings()[0].searchDelay;
e=f("<input/>").addClass(c.classes.value).addClass(c.classes.input).on("input keypress",a._throttle(function(g){g=g.keyCode||g.which;if(!a.c.enterSearch||13===g)return b(a,this)},null===e?100:e));a.c.greyscale&&f(e).addClass(c.classes.greyscale);null!==d&&f(e).val(d[0]);a.s.dt.one("draw",function(){f(a.s.topGroup).trigger("dtsb-redrawLogic")});return e};c.init2Input=function(a,b,d){void 0===d&&(d=null);var e=a.s.dt.settings()[0].searchDelay;e=[f("<input/>").addClass(c.classes.value).addClass(c.classes.input).on("input keypress",
a._throttle(function(g){g=g.keyCode||g.which;if(!a.c.enterSearch||13===g)return b(a,this)},null===e?100:e)),f("<span>").addClass(a.classes.joiner).text(a.s.dt.i18n("searchBuilder.valueJoiner",a.c.i18n.valueJoiner)),f("<input/>").addClass(c.classes.value).addClass(c.classes.input).on("input keypress",a._throttle(function(g){g=g.keyCode||g.which;if(!a.c.enterSearch||13===g)return b(a,this)},null===e?100:e))];a.c.greyscale&&(f(e[0]).addClass(c.classes.greyscale),f(e[2]).addClass(c.classes.greyscale));
null!==d&&(f(e[0]).val(d[0]),f(e[2]).val(d[1]));a.s.dt.one("draw",function(){f(a.s.topGroup).trigger("dtsb-redrawLogic")});return e};c.initDate=function(a,b,d){void 0===d&&(d=null);var e=a.s.dt.settings()[0].searchDelay,g=f("<input/>").addClass(c.classes.value).addClass(c.classes.input).dtDateTime({attachTo:"input",format:a.s.dateFormat?a.s.dateFormat:void 0}).on("change",a._throttle(function(){return b(a,this)},null===e?100:e)).on("input keypress",a.c.enterSearch?function(h){a._throttle(function(){if(13===
(h.keyCode||h.which))return b(a,this)},null===e?100:e)}:a._throttle(function(){return b(a,this)},null===e?100:e));a.c.greyscale&&f(g).addClass(c.classes.greyscale);null!==d&&f(g).val(d[0]);a.s.dt.one("draw",function(){f(a.s.topGroup).trigger("dtsb-redrawLogic")});return g};c.initNoValue=function(a){a.s.dt.one("draw",function(){f(a.s.topGroup).trigger("dtsb-redrawLogic")})};c.init2Date=function(a,b,d){var e=this;void 0===d&&(d=null);var g=a.s.dt.settings()[0].searchDelay;g=[f("<input/>").addClass(c.classes.value).addClass(c.classes.input).dtDateTime({attachTo:"input",
format:a.s.dateFormat?a.s.dateFormat:void 0}).on("change",null!==g?a.s.dt.settings()[0].oApi._fnThrottle(function(){return b(a,this)},g):function(){b(a,e)}).on("input keypress",a.c.enterSearch||null===g?a.c.enterSearch?function(h){13===(h.keyCode||h.which)&&b(a,e)}:function(){b(a,e)}:a.s.dt.settings()[0].oApi._fnThrottle(function(){return b(a,this)},g)),f("<span>").addClass(a.classes.joiner).text(a.s.dt.i18n("searchBuilder.valueJoiner",a.c.i18n.valueJoiner)),f("<input/>").addClass(c.classes.value).addClass(c.classes.input).dtDateTime({attachTo:"input",
format:a.s.dateFormat?a.s.dateFormat:void 0}).on("change",null!==g?a.s.dt.settings()[0].oApi._fnThrottle(function(){return b(a,this)},g):function(){b(a,e)}).on("input keypress",a.c.enterSearch||null===g?a.c.enterSearch?function(h){13===(h.keyCode||h.which)&&b(a,e)}:function(){b(a,e)}:a.s.dt.settings()[0].oApi._fnThrottle(function(){return b(a,this)},g))];a.c.greyscale&&(f(g[0]).addClass(c.classes.greyscale),f(g[2]).addClass(c.classes.greyscale));null!==d&&0<d.length&&(f(g[0]).val(d[0]),f(g[2]).val(d[1]));
a.s.dt.one("draw",function(){f(a.s.topGroup).trigger("dtsb-redrawLogic")});return g};c.isInputValidSelect=function(a){for(var b=!0,d=0;d<a.length;d++){var e=a[d];f(e).children("option:selected").length===f(e).children("option").length-f(e).children("option."+c.classes.notItalic).length&&1===f(e).children("option:selected").length&&f(e).children("option:selected")[0]===f(e).children("option:hidden")[0]&&(b=!1)}return b};c.isInputValidInput=function(a){for(var b=!0,d=0;d<a.length;d++){var e=a[d];f(e).is("input")&&
0===f(e).val().length&&(b=!1)}return b};c.inputValueSelect=function(a){for(var b=[],d=0;d<a.length;d++){var e=a[d];if(f(e).is("select")){var g=f(e).children("option:selected").val();b.push("Array"===f(e).children("option:selected").attr("type")?g.split(",").sort():g)}}return b};c.inputValueInput=function(a){for(var b=[],d=0;d<a.length;d++){var e=a[d];f(e).is("input")&&b.push(f(e).val())}return b};c.updateListener=function(a,b){var d=a.s.conditions[a.s.condition];a.s.filled=d.isInputValid(a.dom.value,
a);a.s.value=d.inputValue(a.dom.value,a);if(a.s.filled){Array.isArray(a.s.value)||(a.s.value=[a.s.value]);for(d=0;d<a.s.value.length;d++)if(Array.isArray(a.s.value[d]))a.s.value[d].sort();else if(-1!==a.s.type.indexOf("num")&&(""!==a.s.dt.settings()[0].oLanguage.sDecimal||""!==a.s.dt.settings()[0].oLanguage.sThousands)){var e=[a.s.value[d].toString()];""!==a.s.dt.settings()[0].oLanguage.sDecimal&&(e=a.s.value[d].split(a.s.dt.settings()[0].oLanguage.sDecimal));if(""!==a.s.dt.settings()[0].oLanguage.sThousands)for(var g=
0;g<e.length;g++)e[g]=e[g].replace(a.s.dt.settings()[0].oLanguage.sThousands,",");a.s.value[d]=e.join(".")}g=e=null;for(d=0;d<a.dom.value.length;d++)b===a.dom.value[d][0]&&(e=d,void 0!==b.selectionStart&&(g=b.selectionStart));a.s.dt.draw();null!==e&&(f(a.dom.value[e]).removeClass(a.classes.italic),f(a.dom.value[e]).focus(),null!==g&&f(a.dom.value[e])[0].setSelectionRange(g,g))}else a.s.dt.draw()};c.dateConditions={"=":{conditionName:function(a,b){return a.i18n("searchBuilder.conditions.date.equals",
b.conditions.date.equals)},init:c.initDate,inputValue:c.inputValueInput,isInputValid:c.isInputValidInput,search:function(a,b){a=a.replace(/(\/|-|,)/g,"-");return a===b[0]}},"!=":{conditionName:function(a,b){return a.i18n("searchBuilder.conditions.date.not",b.conditions.date.not)},init:c.initDate,inputValue:c.inputValueInput,isInputValid:c.isInputValidInput,search:function(a,b){a=a.replace(/(\/|-|,)/g,"-");return a!==b[0]}},"<":{conditionName:function(a,b){return a.i18n("searchBuilder.conditions.date.before",
b.conditions.date.before)},init:c.initDate,inputValue:c.inputValueInput,isInputValid:c.isInputValidInput,search:function(a,b){a=a.replace(/(\/|-|,)/g,"-");return a<b[0]}},">":{conditionName:function(a,b){return a.i18n("searchBuilder.conditions.date.after",b.conditions.date.after)},init:c.initDate,inputValue:c.inputValueInput,isInputValid:c.isInputValidInput,search:function(a,b){a=a.replace(/(\/|-|,)/g,"-");return a>b[0]}},between:{conditionName:function(a,b){return a.i18n("searchBuilder.conditions.date.between",
b.conditions.date.between)},init:c.init2Date,inputValue:c.inputValueInput,isInputValid:c.isInputValidInput,search:function(a,b){a=a.replace(/(\/|-|,)/g,"-");return b[0]<b[1]?b[0]<=a&&a<=b[1]:b[1]<=a&&a<=b[0]}},"!between":{conditionName:function(a,b){return a.i18n("searchBuilder.conditions.date.notBetween",b.conditions.date.notBetween)},init:c.init2Date,inputValue:c.inputValueInput,isInputValid:c.isInputValidInput,search:function(a,b){a=a.replace(/(\/|-|,)/g,"-");return b[0]<b[1]?!(b[0]<=a&&a<=b[1]):
!(b[1]<=a&&a<=b[0])}},"null":{conditionName:function(a,b){return a.i18n("searchBuilder.conditions.date.empty",b.conditions.date.empty)},init:c.initNoValue,inputValue:function(){},isInputValid:function(){return!0},search:function(a){return null===a||void 0===a||0===a.length}},"!null":{conditionName:function(a,b){return a.i18n("searchBuilder.conditions.date.notEmpty",b.conditions.date.notEmpty)},init:c.initNoValue,inputValue:function(){},isInputValid:function(){return!0},search:function(a){return!(null===
a||void 0===a||0===a.length)}}};c.momentDateConditions={"=":{conditionName:function(a,b){return a.i18n("searchBuilder.conditions.date.equals",b.conditions.date.equals)},init:c.initDate,inputValue:c.inputValueInput,isInputValid:c.isInputValidInput,search:function(a,b,d){return v(a,d.s.dateFormat).valueOf()===v(b[0],d.s.dateFormat).valueOf()}},"!=":{conditionName:function(a,b){return a.i18n("searchBuilder.conditions.date.not",b.conditions.date.not)},init:c.initDate,inputValue:c.inputValueInput,isInputValid:c.isInputValidInput,
search:function(a,b,d){return v(a,d.s.dateFormat).valueOf()!==v(b[0],d.s.dateFormat).valueOf()}},"<":{conditionName:function(a,b){return a.i18n("searchBuilder.conditions.date.before",b.conditions.date.before)},init:c.initDate,inputValue:c.inputValueInput,isInputValid:c.isInputValidInput,search:function(a,b,d){return v(a,d.s.dateFormat).valueOf()<v(b[0],d.s.dateFormat).valueOf()}},">":{conditionName:function(a,b){return a.i18n("searchBuilder.conditions.date.after",b.conditions.date.after)},init:c.initDate,
inputValue:c.inputValueInput,isInputValid:c.isInputValidInput,search:function(a,b,d){return v(a,d.s.dateFormat).valueOf()>v(b[0],d.s.dateFormat).valueOf()}},between:{conditionName:function(a,b){return a.i18n("searchBuilder.conditions.date.between",b.conditions.date.between)},init:c.init2Date,inputValue:c.inputValueInput,isInputValid:c.isInputValidInput,search:function(a,b,d){a=v(a,d.s.dateFormat).valueOf();var e=v(b[0],d.s.dateFormat).valueOf();b=v(b[1],d.s.dateFormat).valueOf();return e<b?e<=a&&
a<=b:b<=a&&a<=e}},"!between":{conditionName:function(a,b){return a.i18n("searchBuilder.conditions.date.notBetween",b.conditions.date.notBetween)},init:c.init2Date,inputValue:c.inputValueInput,isInputValid:c.isInputValidInput,search:function(a,b,d){a=v(a,d.s.dateFormat).valueOf();var e=v(b[0],d.s.dateFormat).valueOf();b=v(b[1],d.s.dateFormat).valueOf();return e<b?!(+e<=+a&&+a<=+b):!(+b<=+a&&+a<=+e)}},"null":{conditionName:function(a,b){return a.i18n("searchBuilder.conditions.date.empty",b.conditions.date.empty)},
init:c.initNoValue,inputValue:function(){},isInputValid:function(){return!0},search:function(a){return null===a||void 0===a||0===a.length}},"!null":{conditionName:function(a,b){return a.i18n("searchBuilder.conditions.date.notEmpty",b.conditions.date.notEmpty)},init:c.initNoValue,inputValue:function(){},isInputValid:function(){return!0},search:function(a){return!(null===a||void 0===a||0===a.length)}}};c.luxonDateConditions={"=":{conditionName:function(a,b){return a.i18n("searchBuilder.conditions.date.equals",
b.conditions.date.equals)},init:c.initDate,inputValue:c.inputValueInput,isInputValid:c.isInputValidInput,search:function(a,b,d){return w.DateTime.fromFormat(a,d.s.dateFormat).ts===w.DateTime.fromFormat(b[0],d.s.dateFormat).ts}},"!=":{conditionName:function(a,b){return a.i18n("searchBuilder.conditions.date.not",b.conditions.date.not)},init:c.initDate,inputValue:c.inputValueInput,isInputValid:c.isInputValidInput,search:function(a,b,d){return w.DateTime.fromFormat(a,d.s.dateFormat).ts!==w.DateTime.fromFormat(b[0],
d.s.dateFormat).ts}},"<":{conditionName:function(a,b){return a.i18n("searchBuilder.conditions.date.before",b.conditions.date.before)},init:c.initDate,inputValue:c.inputValueInput,isInputValid:c.isInputValidInput,search:function(a,b,d){return w.DateTime.fromFormat(a,d.s.dateFormat).ts<w.DateTime.fromFormat(b[0],d.s.dateFormat).ts}},">":{conditionName:function(a,b){return a.i18n("searchBuilder.conditions.date.after",b.conditions.date.after)},init:c.initDate,inputValue:c.inputValueInput,isInputValid:c.isInputValidInput,
search:function(a,b,d){return w.DateTime.fromFormat(a,d.s.dateFormat).ts>w.DateTime.fromFormat(b[0],d.s.dateFormat).ts}},between:{conditionName:function(a,b){return a.i18n("searchBuilder.conditions.date.between",b.conditions.date.between)},init:c.init2Date,inputValue:c.inputValueInput,isInputValid:c.isInputValidInput,search:function(a,b,d){a=w.DateTime.fromFormat(a,d.s.dateFormat).ts;var e=w.DateTime.fromFormat(b[0],d.s.dateFormat).ts;b=w.DateTime.fromFormat(b[1],d.s.dateFormat).ts;return e<b?e<=
a&&a<=b:b<=a&&a<=e}},"!between":{conditionName:function(a,b){return a.i18n("searchBuilder.conditions.date.notBetween",b.conditions.date.notBetween)},init:c.init2Date,inputValue:c.inputValueInput,isInputValid:c.isInputValidInput,search:function(a,b,d){a=w.DateTime.fromFormat(a,d.s.dateFormat).ts;var e=w.DateTime.fromFormat(b[0],d.s.dateFormat).ts;b=w.DateTime.fromFormat(b[1],d.s.dateFormat).ts;return e<b?!(+e<=+a&&+a<=+b):!(+b<=+a&&+a<=+e)}},"null":{conditionName:function(a,b){return a.i18n("searchBuilder.conditions.date.empty",
b.conditions.date.empty)},init:c.initNoValue,inputValue:function(){},isInputValid:function(){return!0},search:function(a){return null===a||void 0===a||0===a.length}},"!null":{conditionName:function(a,b){return a.i18n("searchBuilder.conditions.date.notEmpty",b.conditions.date.notEmpty)},init:c.initNoValue,inputValue:function(){},isInputValid:function(){return!0},search:function(a){return!(null===a||void 0===a||0===a.length)}}};c.numConditions={"=":{conditionName:function(a,b){return a.i18n("searchBuilder.conditions.number.equals",
b.conditions.number.equals)},init:c.initSelect,inputValue:c.inputValueSelect,isInputValid:c.isInputValidSelect,search:function(a,b){return+a===+b[0]}},"!=":{conditionName:function(a,b){return a.i18n("searchBuilder.conditions.number.not",b.conditions.number.not)},init:c.initSelect,inputValue:c.inputValueSelect,isInputValid:c.isInputValidSelect,search:function(a,b){return+a!==+b[0]}},"<":{conditionName:function(a,b){return a.i18n("searchBuilder.conditions.number.lt",b.conditions.number.lt)},init:c.initInput,
inputValue:c.inputValueInput,isInputValid:c.isInputValidInput,search:function(a,b){return+a<+b[0]}},"<=":{conditionName:function(a,b){return a.i18n("searchBuilder.conditions.number.lte",b.conditions.number.lte)},init:c.initInput,inputValue:c.inputValueInput,isInputValid:c.isInputValidInput,search:function(a,b){return+a<=+b[0]}},">=":{conditionName:function(a,b){return a.i18n("searchBuilder.conditions.number.gte",b.conditions.number.gte)},init:c.initInput,inputValue:c.inputValueInput,isInputValid:c.isInputValidInput,
search:function(a,b){return+a>=+b[0]}},">":{conditionName:function(a,b){return a.i18n("searchBuilder.conditions.number.gt",b.conditions.number.gt)},init:c.initInput,inputValue:c.inputValueInput,isInputValid:c.isInputValidInput,search:function(a,b){return+a>+b[0]}},between:{conditionName:function(a,b){return a.i18n("searchBuilder.conditions.number.between",b.conditions.number.between)},init:c.init2Input,inputValue:c.inputValueInput,isInputValid:c.isInputValidInput,search:function(a,b){return+b[0]<
+b[1]?+b[0]<=+a&&+a<=+b[1]:+b[1]<=+a&&+a<=+b[0]}},"!between":{conditionName:function(a,b){return a.i18n("searchBuilder.conditions.number.notBetween",b.conditions.number.notBetween)},init:c.init2Input,inputValue:c.inputValueInput,isInputValid:c.isInputValidInput,search:function(a,b){return+b[0]<+b[1]?!(+b[0]<=+a&&+a<=+b[1]):!(+b[1]<=+a&&+a<=+b[0])}},"null":{conditionName:function(a,b){return a.i18n("searchBuilder.conditions.number.empty",b.conditions.number.empty)},init:c.initNoValue,inputValue:function(){},
isInputValid:function(){return!0},search:function(a){return null===a||void 0===a||0===a.length}},"!null":{conditionName:function(a,b){return a.i18n("searchBuilder.conditions.number.notEmpty",b.conditions.number.notEmpty)},init:c.initNoValue,inputValue:function(){},isInputValid:function(){return!0},search:function(a){return!(null===a||void 0===a||0===a.length)}}};c.numFmtConditions={"=":{conditionName:function(a,b){return a.i18n("searchBuilder.conditions.number.equals",b.conditions.number.equals)},
init:c.initSelect,inputValue:c.inputValueSelect,isInputValid:c.isInputValidSelect,search:function(a,b){a=0===a.indexOf("-")?"-"+a.replace(/[^0-9.]/g,""):a.replace(/[^0-9.]/g,"");b=0===b[0].indexOf("-")?"-"+b[0].replace(/[^0-9.]/g,""):b[0].replace(/[^0-9.]/g,"");return+a===+b}},"!=":{conditionName:function(a,b){return a.i18n("searchBuilder.conditions.number.not",b.conditions.number.not)},init:c.initSelect,inputValue:c.inputValueSelect,isInputValid:c.isInputValidSelect,search:function(a,b){a=0===a.indexOf("-")?
"-"+a.replace(/[^0-9.]/g,""):a.replace(/[^0-9.]/g,"");b=0===b[0].indexOf("-")?"-"+b[0].replace(/[^0-9.]/g,""):b[0].replace(/[^0-9.]/g,"");return+a!==+b}},"<":{conditionName:function(a,b){return a.i18n("searchBuilder.conditions.number.lt",b.conditions.number.lt)},init:c.initInput,inputValue:c.inputValueInput,isInputValid:c.isInputValidInput,search:function(a,b){a=0===a.indexOf("-")?"-"+a.replace(/[^0-9.]/g,""):a.replace(/[^0-9.]/g,"");b=0===b[0].indexOf("-")?"-"+b[0].replace(/[^0-9.]/g,""):b[0].replace(/[^0-9.]/g,
"");return+a<+b}},"<=":{conditionName:function(a,b){return a.i18n("searchBuilder.conditions.number.lte",b.conditions.number.lte)},init:c.initInput,inputValue:c.inputValueInput,isInputValid:c.isInputValidInput,search:function(a,b){a=0===a.indexOf("-")?"-"+a.replace(/[^0-9.]/g,""):a.replace(/[^0-9.]/g,"");b=0===b[0].indexOf("-")?"-"+b[0].replace(/[^0-9.]/g,""):b[0].replace(/[^0-9.]/g,"");return+a<=+b}},">=":{conditionName:function(a,b){return a.i18n("searchBuilder.conditions.number.gte",b.conditions.number.gte)},
init:c.initInput,inputValue:c.inputValueInput,isInputValid:c.isInputValidInput,search:function(a,b){a=0===a.indexOf("-")?"-"+a.replace(/[^0-9.]/g,""):a.replace(/[^0-9.]/g,"");b=0===b[0].indexOf("-")?"-"+b[0].replace(/[^0-9.]/g,""):b[0].replace(/[^0-9.]/g,"");return+a>=+b}},">":{conditionName:function(a,b){return a.i18n("searchBuilder.conditions.number.gt",b.conditions.number.gt)},init:c.initInput,inputValue:c.inputValueInput,isInputValid:c.isInputValidInput,search:function(a,b){a=0===a.indexOf("-")?
"-"+a.replace(/[^0-9.]/g,""):a.replace(/[^0-9.]/g,"");b=0===b[0].indexOf("-")?"-"+b[0].replace(/[^0-9.]/g,""):b[0].replace(/[^0-9.]/g,"");return+a>+b}},between:{conditionName:function(a,b){return a.i18n("searchBuilder.conditions.number.between",b.conditions.number.between)},init:c.init2Input,inputValue:c.inputValueInput,isInputValid:c.isInputValidInput,search:function(a,b){a=0===a.indexOf("-")?"-"+a.replace(/[^0-9.]/g,""):a.replace(/[^0-9.]/g,"");var d=0===b[0].indexOf("-")?"-"+b[0].replace(/[^0-9.]/g,
""):b[0].replace(/[^0-9.]/g,"");b=0===b[1].indexOf("-")?"-"+b[1].replace(/[^0-9.]/g,""):b[1].replace(/[^0-9.]/g,"");return+d<+b?+d<=+a&&+a<=+b:+b<=+a&&+a<=+d}},"!between":{conditionName:function(a,b){return a.i18n("searchBuilder.conditions.number.notBetween",b.conditions.number.notBetween)},init:c.init2Input,inputValue:c.inputValueInput,isInputValid:c.isInputValidInput,search:function(a,b){a=0===a.indexOf("-")?"-"+a.replace(/[^0-9.]/g,""):a.replace(/[^0-9.]/g,"");var d=0===b[0].indexOf("-")?"-"+b[0].replace(/[^0-9.]/g,
""):b[0].replace(/[^0-9.]/g,"");b=0===b[1].indexOf("-")?"-"+b[1].replace(/[^0-9.]/g,""):b[1].replace(/[^0-9.]/g,"");return+d<+b?!(+d<=+a&&+a<=+b):!(+b<=+a&&+a<=+d)}},"null":{conditionName:function(a,b){return a.i18n("searchBuilder.conditions.number.empty",b.conditions.number.empty)},init:c.initNoValue,inputValue:function(){},isInputValid:function(){return!0},search:function(a){return null===a||void 0===a||0===a.length}},"!null":{conditionName:function(a,b){return a.i18n("searchBuilder.conditions.number.notEmpty",
b.conditions.number.notEmpty)},init:c.initNoValue,inputValue:function(){},isInputValid:function(){return!0},search:function(a){return!(null===a||void 0===a||0===a.length)}}};c.stringConditions={"=":{conditionName:function(a,b){return a.i18n("searchBuilder.conditions.string.equals",b.conditions.string.equals)},init:c.initSelect,inputValue:c.inputValueSelect,isInputValid:c.isInputValidSelect,search:function(a,b){return a===b[0]}},"!=":{conditionName:function(a,b){return a.i18n("searchBuilder.conditions.string.not",
b.conditions.string.not)},init:c.initSelect,inputValue:c.inputValueSelect,isInputValid:c.isInputValidInput,search:function(a,b){return a!==b[0]}},starts:{conditionName:function(a,b){return a.i18n("searchBuilder.conditions.string.startsWith",b.conditions.string.startsWith)},init:c.initInput,inputValue:c.inputValueInput,isInputValid:c.isInputValidInput,search:function(a,b){return 0===a.toLowerCase().indexOf(b[0].toLowerCase())}},contains:{conditionName:function(a,b){return a.i18n("searchBuilder.conditions.string.contains",
b.conditions.string.contains)},init:c.initInput,inputValue:c.inputValueInput,isInputValid:c.isInputValidInput,search:function(a,b){return-1!==a.toLowerCase().indexOf(b[0].toLowerCase())}},ends:{conditionName:function(a,b){return a.i18n("searchBuilder.conditions.string.endsWith",b.conditions.string.endsWith)},init:c.initInput,inputValue:c.inputValueInput,isInputValid:c.isInputValidInput,search:function(a,b){return a.toLowerCase().endsWith(b[0].toLowerCase())}},"null":{conditionName:function(a,b){return a.i18n("searchBuilder.conditions.string.empty",
b.conditions.string.empty)},init:c.initNoValue,inputValue:function(){},isInputValid:function(){return!0},search:function(a){return null===a||void 0===a||0===a.length}},"!null":{conditionName:function(a,b){return a.i18n("searchBuilder.conditions.string.notEmpty",b.conditions.string.notEmpty)},init:c.initNoValue,inputValue:function(){},isInputValid:function(){return!0},search:function(a){return!(null===a||void 0===a||0===a.length)}}};c.arrayConditions={contains:{conditionName:function(a,b){return a.i18n("searchBuilder.conditions.array.contains",
b.conditions.array.contains)},init:c.initSelectArray,inputValue:c.inputValueSelect,isInputValid:c.isInputValidSelect,search:function(a,b){return-1!==a.indexOf(b[0])}},without:{conditionName:function(a,b){return a.i18n("searchBuilder.conditions.array.without",b.conditions.array.without)},init:c.initSelectArray,inputValue:c.inputValueSelect,isInputValid:c.isInputValidSelect,search:function(a,b){return-1===a.indexOf(b[0])}},"=":{conditionName:function(a,b){return a.i18n("searchBuilder.conditions.array.equals",
b.conditions.array.equals)},init:c.initSelect,inputValue:c.inputValueSelect,isInputValid:c.isInputValidSelect,search:function(a,b){if(a.length===b[0].length){for(var d=0;d<a.length;d++)if(a[d]!==b[0][d])return!1;return!0}return!1}},"!=":{conditionName:function(a,b){return a.i18n("searchBuilder.conditions.array.not",b.conditions.array.not)},init:c.initSelect,inputValue:c.inputValueSelect,isInputValid:c.isInputValidSelect,search:function(a,b){if(a.length===b[0].length){for(var d=0;d<a.length;d++)if(a[d]!==
b[0][d])return!0;return!1}return!0}},"null":{conditionName:function(a,b){return a.i18n("searchBuilder.conditions.array.empty",b.conditions.array.empty)},init:c.initNoValue,inputValue:function(){},isInputValid:function(){return!0},search:function(a){return null===a||void 0===a||0===a.length}},"!null":{conditionName:function(a,b){return a.i18n("searchBuilder.conditions.array.notEmpty",b.conditions.array.notEmpty)},init:c.initNoValue,inputValue:function(){},isInputValid:function(){return!0},search:function(a){return null!==
a&&void 0!==a&&0!==a.length}}};c.defaults={columns:!0,conditions:{array:c.arrayConditions,date:c.dateConditions,html:c.stringConditions,"html-num":c.numConditions,"html-num-fmt":c.numFmtConditions,luxon:c.luxonDateConditions,moment:c.momentDateConditions,num:c.numConditions,"num-fmt":c.numFmtConditions,string:c.stringConditions},depthLimit:!1,enterSearch:!1,filterChanged:void 0,greyscale:!1,i18n:{add:"Add Condition",button:{0:"Search Builder",_:"Search Builder (%d)"},clearAll:"Clear All",condition:"Condition",
data:"Data",deleteTitle:"Delete filtering rule",leftTitle:"Outdent criteria",logicAnd:"And",logicOr:"Or",rightTitle:"Indent criteria",title:{0:"Custom Search Builder",_:"Custom Search Builder (%d)"},value:"Value",valueJoiner:"and"},logic:"AND",orthogonal:{display:"display",search:"filter"},preDefined:!1};return c}(),k,E,G=function(){function c(a,b,d,e,g,h){void 0===e&&(e=0);void 0===g&&(g=!1);void 0===h&&(h=1);if(!E||!E.versionCheck||!E.versionCheck("1.10.0"))throw Error("SearchBuilder requires DataTables 1.10 or newer");
this.classes=k.extend(!0,{},c.classes);this.c=k.extend(!0,{},c.defaults,b);this.s={criteria:[],depth:h,dt:a,index:e,isChild:g,logic:void 0,opts:b,toDrop:void 0,topGroup:d};this.dom={add:k("<button/>").addClass(this.classes.add).addClass(this.classes.button).attr("type","button"),clear:k("<button>&times</button>").addClass(this.classes.button).addClass(this.classes.clearGroup).attr("type","button"),container:k("<div/>").addClass(this.classes.group),logic:k("<button><div/></button>").addClass(this.classes.logic).addClass(this.classes.button).attr("type",
"button"),logicContainer:k("<div/>").addClass(this.classes.logicContainer)};void 0===this.s.topGroup&&(this.s.topGroup=this.dom.container);this._setup();return this}c.prototype.destroy=function(){k(this.dom.add).off(".dtsb");k(this.dom.logic).off(".dtsb");k(this.dom.container).trigger("dtsb-destroy").remove();this.s.criteria=[]};c.prototype.getDetails=function(){if(0===this.s.criteria.length)return{};for(var a={criteria:[],logic:this.s.logic},b=0,d=this.s.criteria;b<d.length;b++)a.criteria.push(d[b].criteria.getDetails());
return a};c.prototype.getNode=function(){return this.dom.container};c.prototype.rebuild=function(a){if(!(void 0===a.criteria||null===a.criteria||Array.isArray(a.criteria)&&0===a.criteria.length)){this.s.logic=a.logic;k(this.dom.logic).children().first().text("OR"===this.s.logic?this.s.dt.i18n("searchBuilder.logicOr",this.c.i18n.logicOr):this.s.dt.i18n("searchBuilder.logicAnd",this.c.i18n.logicAnd));if(Array.isArray(a.criteria))for(var b=0,d=a.criteria;b<d.length;b++)a=d[b],void 0!==a.logic?this._addPrevGroup(a):
void 0===a.logic&&this._addPrevCriteria(a);b=0;for(d=this.s.criteria;b<d.length;b++)a=d[b],a.criteria instanceof t&&(a.criteria.updateArrows(1<this.s.criteria.length,!1),this._setCriteriaListeners(a.criteria))}};c.prototype.redrawContents=function(){k(this.dom.container).empty().append(this.dom.logicContainer).append(this.dom.add);this.s.criteria.sort(function(d,e){return d.criteria.s.index<e.criteria.s.index?-1:d.criteria.s.index>e.criteria.s.index?1:0});this.setListeners();for(var a=0;a<this.s.criteria.length;a++){var b=
this.s.criteria[a].criteria;b instanceof t?(this.s.criteria[a].index=a,this.s.criteria[a].criteria.s.index=a,k(this.s.criteria[a].criteria.dom.container).insertBefore(this.dom.add),this._setCriteriaListeners(b),this.s.criteria[a].criteria.rebuild(this.s.criteria[a].criteria.getDetails())):b instanceof c&&0<b.s.criteria.length?(this.s.criteria[a].index=a,this.s.criteria[a].criteria.s.index=a,k(this.s.criteria[a].criteria.dom.container).insertBefore(this.dom.add),b.redrawContents(),this._setGroupListeners(b)):
(this.s.criteria.splice(a,1),a--)}this.setupLogic()};c.prototype.redrawLogic=function(){for(var a=0,b=this.s.criteria;a<b.length;a++){var d=b[a];d instanceof c&&d.redrawLogic()}this.setupLogic()};c.prototype.search=function(a,b){return"AND"===this.s.logic?this._andSearch(a,b):"OR"===this.s.logic?this._orSearch(a,b):!0};c.prototype.setupLogic=function(){k(this.dom.logicContainer).remove();k(this.dom.clear).remove();if(1>this.s.criteria.length)this.s.isChild||(k(this.dom.container).trigger("dtsb-destroy"),
k(this.dom.container).css("margin-left",0));else{var a=k(this.dom.container).height()-1;k(this.dom.clear).height("0px");k(this.dom.logicContainer).append(this.dom.clear).width(a);k(this.dom.container).prepend(this.dom.logicContainer);this._setLogicListener();k(this.dom.container).css("margin-left",k(this.dom.logicContainer).outerHeight(!0));a=k(this.dom.logicContainer).offset();var b=a.left,d=k(this.dom.container).offset().left;b=b-(b-d)-k(this.dom.logicContainer).outerHeight(!0);k(this.dom.logicContainer).offset({left:b});
b=k(this.dom.logicContainer).next();a=a.top;b=k(b).offset().top;a-=a-b;k(this.dom.logicContainer).offset({top:a});k(this.dom.clear).outerHeight(k(this.dom.logicContainer).height());this._setClearListener()}};c.prototype.setListeners=function(){var a=this;k(this.dom.add).unbind("click");k(this.dom.add).on("click",function(){a.s.isChild||k(a.dom.container).prepend(a.dom.logicContainer);a.addCriteria();k(a.dom.container).trigger("dtsb-add");a.s.dt.state.save();return!1});for(var b=0,d=this.s.criteria;b<
d.length;b++)d[b].criteria.setListeners();this._setClearListener();this._setLogicListener()};c.prototype.addCriteria=function(a,b){void 0===a&&(a=null);void 0===b&&(b=!0);var d=null===a?this.s.criteria.length:a.s.index,e=new t(this.s.dt,this.s.opts,this.s.topGroup,d,this.s.depth);null!==a&&(e.c=a.c,e.s=a.s,e.s.depth=this.s.depth,e.classes=a.classes);e.populate();a=!1;for(var g=0;g<this.s.criteria.length;g++)0===g&&this.s.criteria[g].criteria.s.index>e.s.index?(k(e.getNode()).insertBefore(this.s.criteria[g].criteria.dom.container),
a=!0):g<this.s.criteria.length-1&&this.s.criteria[g].criteria.s.index<e.s.index&&this.s.criteria[g+1].criteria.s.index>e.s.index&&(k(e.getNode()).insertAfter(this.s.criteria[g].criteria.dom.container),a=!0);a||k(e.getNode()).insertBefore(this.dom.add);this.s.criteria.push({criteria:e,index:d});this.s.criteria=this.s.criteria.sort(function(h,p){return h.criteria.s.index-p.criteria.s.index});d=0;for(a=this.s.criteria;d<a.length;d++)g=a[d],g.criteria instanceof t&&g.criteria.updateArrows(1<this.s.criteria.length,
b);this._setCriteriaListeners(e);e.setListeners();this.setupLogic()};c.prototype.checkFilled=function(){for(var a=0,b=this.s.criteria;a<b.length;a++){var d=b[a];if(d.criteria instanceof t&&d.criteria.s.filled||d.criteria instanceof c&&d.criteria.checkFilled())return!0}return!1};c.prototype.count=function(){for(var a=0,b=0,d=this.s.criteria;b<d.length;b++){var e=d[b];e.criteria instanceof c?a+=e.criteria.count():a++}return a};c.prototype._addPrevGroup=function(a){var b=this.s.criteria.length,d=new c(this.s.dt,
this.c,this.s.topGroup,b,!0,this.s.depth+1);this.s.criteria.push({criteria:d,index:b,logic:d.s.logic});d.rebuild(a);this.s.criteria[b].criteria=d;k(this.s.topGroup).trigger("dtsb-redrawContents");this._setGroupListeners(d)};c.prototype._addPrevCriteria=function(a){var b=this.s.criteria.length,d=new t(this.s.dt,this.s.opts,this.s.topGroup,b,this.s.depth);d.populate();this.s.criteria.push({criteria:d,index:b});d.rebuild(a);this.s.criteria[b].criteria=d;k(this.s.topGroup).trigger("dtsb-redrawContents")};
c.prototype._andSearch=function(a,b){if(0===this.s.criteria.length)return!0;for(var d=0,e=this.s.criteria;d<e.length;d++){var g=e[d];if(!(g.criteria instanceof t&&!g.criteria.s.filled||g.criteria.search(a,b)))return!1}return!0};c.prototype._orSearch=function(a,b){if(0===this.s.criteria.length)return!0;for(var d=!1,e=0,g=this.s.criteria;e<g.length;e++){var h=g[e];if(h.criteria instanceof t&&h.criteria.s.filled){if(d=!0,h.criteria.search(a,b))return!0}else if(h.criteria instanceof c&&h.criteria.checkFilled()&&
(d=!0,h.criteria.search(a,b)))return!0}return!d};c.prototype._removeCriteria=function(a,b){void 0===b&&(b=!1);if(1>=this.s.criteria.length&&this.s.isChild)this.destroy();else{for(var d=void 0,e=0;e<this.s.criteria.length;e++)this.s.criteria[e].index===a.s.index&&(!b||this.s.criteria[e].criteria instanceof c)&&(d=e);void 0!==d&&this.s.criteria.splice(d,1);for(e=0;e<this.s.criteria.length;e++)this.s.criteria[e].index=e,this.s.criteria[e].criteria.s.index=e}};c.prototype._setCriteriaListeners=function(a){var b=
this;k(a.dom["delete"]).unbind("click").on("click",function(){b._removeCriteria(a);k(a.dom.container).remove();for(var d=0,e=b.s.criteria;d<e.length;d++){var g=e[d];g.criteria instanceof t&&g.criteria.updateArrows(1<b.s.criteria.length)}a.destroy();b.s.dt.draw();k(b.s.topGroup).trigger("dtsb-redrawContents");k(b.s.topGroup).trigger("dtsb-updateTitle");return!1});k(a.dom.right).unbind("click").on("click",function(){var d=a.s.index,e=new c(b.s.dt,b.s.opts,b.s.topGroup,a.s.index,!0,b.s.depth+1);e.addCriteria(a);
b.s.criteria[d].criteria=e;b.s.criteria[d].logic="AND";k(b.s.topGroup).trigger("dtsb-redrawContents");b._setGroupListeners(e);return!1});k(a.dom.left).unbind("click").on("click",function(){b.s.toDrop=new t(b.s.dt,b.s.opts,b.s.topGroup,a.s.index);b.s.toDrop.s=a.s;b.s.toDrop.c=a.c;b.s.toDrop.classes=a.classes;b.s.toDrop.populate();var d=b.s.toDrop.s.index;k(b.dom.container).trigger("dtsb-dropCriteria");a.s.index=d;b._removeCriteria(a);k(b.s.topGroup).trigger("dtsb-redrawContents");b.s.dt.draw();return!1})};
c.prototype._setClearListener=function(){var a=this;k(this.dom.clear).unbind("click").on("click",function(){if(!a.s.isChild)return k(a.dom.container).trigger("dtsb-clearContents"),!1;a.destroy();k(a.s.topGroup).trigger("dtsb-updateTitle");k(a.s.topGroup).trigger("dtsb-redrawContents");return!1})};c.prototype._setGroupListeners=function(a){var b=this;k(a.dom.add).unbind("click").on("click",function(){b.setupLogic();k(b.dom.container).trigger("dtsb-add");return!1});k(a.dom.container).unbind("dtsb-add").on("dtsb-add",
function(){b.setupLogic();k(b.dom.container).trigger("dtsb-add");return!1});k(a.dom.container).unbind("dtsb-destroy").on("dtsb-destroy",function(){b._removeCriteria(a,!0);k(a.dom.container).remove();b.setupLogic();return!1});k(a.dom.container).unbind("dtsb-dropCriteria").on("dtsb-dropCriteria",function(){var d=a.s.toDrop;d.s.index=a.s.index;d.updateArrows(1<b.s.criteria.length,!1);b.addCriteria(d,!1);return!1});a.setListeners()};c.prototype._setup=function(){this.setListeners();k(this.dom.add).text(this.s.dt.i18n("searchBuilder.add",
this.c.i18n.add));k(this.dom.logic).children().first().text("OR"===this.c.logic?this.s.dt.i18n("searchBuilder.logicOr",this.c.i18n.logicOr):this.s.dt.i18n("searchBuilder.logicAnd",this.c.i18n.logicAnd));this.s.logic="OR"===this.c.logic?"OR":"AND";this.c.greyscale&&k(this.dom.logic).addClass(this.classes.greyscale);k(this.dom.logicContainer).append(this.dom.logic).append(this.dom.clear);this.s.isChild&&k(this.dom.container).append(this.dom.logicContainer);k(this.dom.container).append(this.dom.add)};
c.prototype._setLogicListener=function(){var a=this;k(this.dom.logic).unbind("click").on("click",function(){a._toggleLogic();a.s.dt.draw();for(var b=0,d=a.s.criteria;b<d.length;b++)d[b].criteria.setListeners()})};c.prototype._toggleLogic=function(){"OR"===this.s.logic?(this.s.logic="AND",k(this.dom.logic).children().first().text(this.s.dt.i18n("searchBuilder.logicAnd",this.c.i18n.logicAnd))):"AND"===this.s.logic&&(this.s.logic="OR",k(this.dom.logic).children().first().text(this.s.dt.i18n("searchBuilder.logicOr",
this.c.i18n.logicOr)))};c.version="1.1.0";c.classes={add:"dtsb-add",button:"dtsb-button",clearGroup:"dtsb-clearGroup",greyscale:"dtsb-greyscale",group:"dtsb-group",inputButton:"dtsb-iptbtn",logic:"dtsb-logic",logicContainer:"dtsb-logicContainer"};c.defaults={columns:!0,conditions:{date:t.dateConditions,html:t.stringConditions,"html-num":t.numConditions,"html-num-fmt":t.numFmtConditions,luxon:t.luxonDateConditions,moment:t.momentDateConditions,num:t.numConditions,"num-fmt":t.numFmtConditions,string:t.stringConditions},
depthLimit:!1,enterSearch:!1,filterChanged:void 0,greyscale:!1,i18n:{add:"Add Condition",button:{0:"Search Builder",_:"Search Builder (%d)"},clearAll:"Clear All",condition:"Condition",data:"Data",deleteTitle:"Delete filtering rule",leftTitle:"Outdent criteria",logicAnd:"And",logicOr:"Or",rightTitle:"Indent criteria",title:{0:"Custom Search Builder",_:"Custom Search Builder (%d)"},value:"Value",valueJoiner:"and"},logic:"AND",orthogonal:{display:"display",search:"filter"},preDefined:!1};return c}(),
q,D,I=function(){function c(a,b){var d=this;if(!D||!D.versionCheck||!D.versionCheck("1.10.0"))throw Error("SearchBuilder requires DataTables 1.10 or newer");a=new D.Api(a);this.classes=q.extend(!0,{},c.classes);this.c=q.extend(!0,{},c.defaults,b);this.dom={clearAll:q('<button type="button">'+a.i18n("searchBuilder.clearAll",this.c.i18n.clearAll)+"</button>").addClass(this.classes.clearAll).addClass(this.classes.button).attr("type","button"),container:q("<div/>").addClass(this.classes.container),title:q("<div/>").addClass(this.classes.title),
titleRow:q("<div/>").addClass(this.classes.titleRow),topGroup:void 0};this.s={dt:a,opts:b,search:void 0,topGroup:void 0};if(void 0===a.settings()[0]._searchBuilder){a.settings()[0]._searchBuilder=this;if(this.s.dt.settings()[0]._bInitComplete)this._setUp();else a.one("init.dt",function(){d._setUp()});return this}}c.prototype.getDetails=function(){return this.s.topGroup.getDetails()};c.prototype.getNode=function(){return this.dom.container};c.prototype.rebuild=function(a){q(this.dom.clearAll).click();
if(void 0===a||null===a)return this;this.s.topGroup.rebuild(a);this.s.dt.draw();this.s.topGroup.setListeners();return this};c.prototype._applyPreDefDefaults=function(a){var b=this;void 0!==a.criteria&&void 0===a.logic&&(a.logic="AND");for(var d=function(p){void 0!==p.criteria?p=e._applyPreDefDefaults(p):e.s.dt.columns().every(function(u){b.s.dt.settings()[0].aoColumns[u].sTitle===p.data&&(p.dataIdx=u)})},e=this,g=0,h=a.criteria;g<h.length;g++)d(h[g]);return a};c.prototype._setUp=function(a){var b=
this;void 0===a&&(a=!0);q.fn.DataTable.Api.registerPlural("columns().type()","column().type()",function(p,u){return this.iterator("column",function(y,C){return y.aoColumns[C].sType},1)});if(!D.DateTime){var d=this.s.dt.columns().type().toArray(),e=this.s.dt.columns().toArray();void 0===d&&(this.s.dt.draw(),d=this.s.dt.columns().type().toArray());for(var g=0;g<e[0].length;g++){var h=d[e[0][g]];if((!0===this.c.columns||Array.isArray(this.c.columns)&&-1!==this.c.columns.indexOf(g))&&(-1!==h.indexOf("date")||
-1!==h.indexOf("moment")||-1!==h.indexOf("luxon")))throw alert("SearchBuilder Requires DateTime when used with dates."),Error("SearchBuilder requires DateTime");}}this.s.topGroup=new G(this.s.dt,this.c,void 0);this._setClearListener();this.s.dt.on("stateSaveParams",function(p,u,y){y.searchBuilder=b.getDetails();y.page=b.s.dt.page()});this._build();a&&(a=this.s.dt.state.loaded(),null!==a&&void 0!==a.searchBuilder?(this.s.topGroup.rebuild(a.searchBuilder),q(this.s.topGroup.dom.container).trigger("dtsb-redrawContents"),
this.s.dt.page(a.page).draw("page"),this.s.topGroup.setListeners()):!1!==this.c.preDefined&&(this.c.preDefined=this._applyPreDefDefaults(this.c.preDefined),this.rebuild(this.c.preDefined)));this._setEmptyListener();this.s.dt.state.save()};c.prototype._updateTitle=function(a){q(this.dom.title).html(this.s.dt.i18n("searchBuilder.title",this.c.i18n.title,a))};c.prototype._build=function(){var a=this;q(this.dom.clearAll).remove();q(this.dom.container).empty();var b=this.s.topGroup.count();this._updateTitle(b);
q(this.dom.titleRow).append(this.dom.title);q(this.dom.container).append(this.dom.titleRow);this.dom.topGroup=this.s.topGroup.getNode();q(this.dom.container).append(this.dom.topGroup);this._setRedrawListener();var d=this.s.dt.table(0).node();-1===q.fn.dataTable.ext.search.indexOf(this.s.search)&&(this.s.search=function(e,g,h,p){return e.nTable!==d?!0:a.s.topGroup.search(g,h)},q.fn.dataTable.ext.search.push(this.s.search));this.s.dt.on("destroy.dt",function(){q(a.dom.container).remove();q(a.dom.clearAll).remove();
for(var e=q.fn.dataTable.ext.search.indexOf(a.s.search);-1!==e;)q.fn.dataTable.ext.search.splice(e,1),e=q.fn.dataTable.ext.search.indexOf(a.s.search)})};c.prototype._checkClear=function(){0<this.s.topGroup.s.criteria.length?(q(this.dom.clearAll).insertAfter(this.dom.title),this._setClearListener()):q(this.dom.clearAll).remove()};c.prototype._filterChanged=function(a){var b=this.c.filterChanged;"function"===typeof b&&b(a,this.s.dt.i18n("searchBuilder.button",this.c.i18n.button,a))};c.prototype._setClearListener=
function(){var a=this;q(this.dom.clearAll).unbind("click");q(this.dom.clearAll).on("click",function(){a.s.topGroup=new G(a.s.dt,a.c,void 0);a._build();a.s.dt.draw();a.s.topGroup.setListeners();q(a.dom.clearAll).remove();a._setEmptyListener();a._filterChanged(0);return!1})};c.prototype._setRedrawListener=function(){var a=this;q(this.s.topGroup.dom.container).unbind("dtsb-redrawContents");q(this.s.topGroup.dom.container).on("dtsb-redrawContents",function(){a._checkClear();a.s.topGroup.redrawContents();
a.s.topGroup.setupLogic();a._setEmptyListener();var b=a.s.topGroup.count();a._updateTitle(b);a._filterChanged(b);a.s.dt.state.save()});q(this.s.topGroup.dom.container).unbind("dtsb-redrawLogic");q(this.s.topGroup.dom.container).on("dtsb-redrawLogic",function(){a.s.topGroup.redrawLogic();var b=a.s.topGroup.count();a._updateTitle(b);a._filterChanged(b)});q(this.s.topGroup.dom.container).on("dtsb-add",function(){var b=a.s.topGroup.count();a._updateTitle(b);a._filterChanged(b)});q(this.s.dt).on("postEdit postCreate postRemove",
function(){a.s.topGroup.redrawContents()});q(this.s.topGroup.dom.container).unbind("dtsb-clearContents");q(this.s.topGroup.dom.container).on("dtsb-clearContents",function(){a._setUp(!1);a._filterChanged(0);a.s.dt.draw()});q(this.s.topGroup.dom.container).on("dtsb-updateTitle",function(){var b=a.s.topGroup.count();a._updateTitle(b);a._filterChanged(b)})};c.prototype._setEmptyListener=function(){var a=this;q(this.s.topGroup.dom.add).on("click",function(){a._checkClear()});q(this.s.topGroup.dom.container).on("dtsb-destroy",
function(){q(a.dom.clearAll).remove()})};c.version="1.1.0";c.classes={button:"dtsb-button",clearAll:"dtsb-clearAll",container:"dtsb-searchBuilder",inputButton:"dtsb-iptbtn",title:"dtsb-title",titleRow:"dtsb-titleRow"};c.defaults={columns:!0,conditions:{date:t.dateConditions,html:t.stringConditions,"html-num":t.numConditions,"html-num-fmt":t.numFmtConditions,luxon:t.luxonDateConditions,moment:t.momentDateConditions,num:t.numConditions,"num-fmt":t.numFmtConditions,string:t.stringConditions},depthLimit:!1,
enterSearch:!1,filterChanged:void 0,greyscale:!1,i18n:{add:"Add Condition",button:{0:"Search Builder",_:"Search Builder (%d)"},clearAll:"Clear All",condition:"Condition",conditions:{array:{contains:"Contains",empty:"Empty",equals:"Equals",not:"Not",notEmpty:"Not Empty",without:"Without"},date:{after:"After",before:"Before",between:"Between",empty:"Empty",equals:"Equals",not:"Not",notBetween:"Not Between",notEmpty:"Not Empty"},number:{between:"Between",empty:"Empty",equals:"Equals",gt:"Greater Than",
gte:"Greater Than Equal To",lt:"Less Than",lte:"Less Than Equal To",not:"Not",notBetween:"Not Between",notEmpty:"Not Empty"},string:{contains:"Contains",empty:"Empty",endsWith:"Ends With",equals:"Equals",not:"Not",notEmpty:"Not Empty",startsWith:"Starts With"}},data:"Data",deleteTitle:"Delete filtering rule",leftTitle:"Outdent criteria",logicAnd:"And",logicOr:"Or",rightTitle:"Indent criteria",title:{0:"Custom Search Builder",_:"Custom Search Builder (%d)"},value:"Value",valueJoiner:"and"},logic:"AND",
orthogonal:{display:"display",search:"filter"},preDefined:!1};return c}();(function(c){"function"===typeof define&&define.amd?define(["jquery","datatables.net"],function(a){return c(a,window,document)}):"object"===typeof exports?module.exports=function(a,b){a||(a=window);b&&b.fn.dataTable||(b=require("datatables.net")(a,b).$);return c(b,a,a.document)}:c(window.jQuery,window,document)})(function(c,a,b){function d(g,h){g=new e.Api(g);h=h?h:g.init().searchBuilder||e.defaults.searchBuilder;return(new I(g,
h)).getNode()}n(c);m(c);l(c);var e=c.fn.dataTable;c.fn.dataTable.SearchBuilder=I;c.fn.DataTable.SearchBuilder=I;c.fn.dataTable.Group=G;c.fn.DataTable.Group=G;c.fn.dataTable.Criteria=t;c.fn.DataTable.Criteria=t;a=c.fn.dataTable.Api.register;c.fn.dataTable.ext.searchBuilder={conditions:{}};c.fn.dataTable.ext.buttons.searchBuilder={action:function(g,h,p,u){g.stopPropagation();this.popover(u._searchBuilder.getNode(),{align:"dt-container"});void 0!==u._searchBuilder.s.topGroup&&u._searchBuilder.s.topGroup.dom.container.trigger("dtsb-redrawContents")},
config:{},init:function(g,h,p){var u=new c.fn.dataTable.SearchBuilder(g,c.extend({filterChanged:function(y,C){g.button(h).text(C)}},p.config));g.button(h).text(p.text||g.i18n("searchBuilder.button",u.c.i18n.button,0));p._searchBuilder=u},text:null};a("searchBuilder.getDetails()",function(){var g=this.context[0];return g._searchBuilder?g._searchBuilder.getDetails():null});a("searchBuilder.rebuild()",function(g){var h=this.context[0];if(void 0===h._searchBuilder)return null;h._searchBuilder.rebuild(g);
return this});a("searchBuilder.container()",function(){var g=this.context[0];return g._searchBuilder?g._searchBuilder.getNode():null});c(b).on("preInit.dt.dtsp",function(g,h,p){"dt"===g.namespace&&(h.oInit.searchBuilder||e.defaults.searchBuilder)&&(h._searchBuilder||d(h))});e.ext.feature.push({cFeature:"Q",fnInit:d});e.ext.features&&e.ext.features.register("searchBuilder",d)})})();
